{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getPictures(searchTerm) {\n  const API_KEY = '43767722-bbce12454ab409ccbfe76519c'; // Ключ API Pixabay\n  const BASE_URL = 'https://pixabay.com/api/'; // Базова URL API Pixabay\n\n  // Заміна пробілів на '+'\n  if (searchTerm.includes(' ')) {\n    searchTerm = searchTerm.replace(/\\s+/g, '+');\n  }\n\n  // Створення параметрів пошуку\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: searchTerm,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  // Відправка HTTP-запиту\n  return fetch(`${BASE_URL}?${searchParams}`)\n    .then(response => {\n      // Перевірка відповіді\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n\n      // Отримання JSON-даних\n      return response.json();\n    });\n}","import 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\n\n// Функція для створення HTML-картки зображення\nexport function createImageCard(image) {\n  return `\n    <div class=\"gallery-item\">\n      <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-image\" />\n      </a>\n      <div class=\"thumb-block\">\n        ${createInfoBlock('Likes', image.likes)}\n        ${createInfoBlock('Views', image.views)}\n        ${createInfoBlock('Comments', image.comments)}\n        ${createInfoBlock('Downloads', image.downloads)}\n      </div>\n    </div>\n  `;\n}\n\n// Функція для створення інформаційного блоку\nfunction createInfoBlock(label, value) {\n  return `\n    <div class=\"block\">\n      <h2 class=\"title\">${label}</h2>\n      <p class=\"amount\">${value}</p>\n    </div>\n  `;\n}\n\n// Функція для оновлення галереї\nexport function updateGallery(images) {\n  const galleryList = document.querySelector('.gallery');\n  galleryList.innerHTML = '';// Очищення галереї\n\n  const cardsHTML = images.map(image => createImageCard(image)).join('');\n  galleryList.insertAdjacentHTML('beforeend', cardsHTML);\n}\n\n// Функція для відображення повідомлення про помилку\nexport function showErrorMessage(message) {\n  iziToast.error({\n    title: 'Error',\n    message,\n  });\n}\n\n// Функція для відображення індикатора завантаження\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.style.display = 'block';\n  }\n}\n\n// Функція для приховування індикатора завантаження\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.style.display = 'none';\n  }\n}","import { getPictures } from './js/pixabay-api.js';\nimport { updateGallery, showErrorMessage, showLoader, hideLoader } from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Ініціалізація SimpleLightbox на верхньому рівні\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n  overlay: true,\n  close: true,\n  className: 'custom-lightbox',\n});\n\n// Змінні\nconst searchForm = document.querySelector('.js-search');\nconst gallery = document.querySelector('.gallery');\n\n// Обробник події пошуку\nsearchForm.addEventListener('submit', (event) => {\n  event.preventDefault();\n\n  // Очищення галереї\n  gallery.innerHTML = '';\n\n  // Отримання значення пошуку\n  const searchTerm = event.target.elements.search.value.trim();\n\n  // Якщо пошуковий запит порожній, завершити роботу\n  if (!searchTerm) return;\n\n  // Показати індикатор завантаження\n  showLoader();\n\n  getPictures(searchTerm)\n    .then(images => {\n      // Приховати індикатор завантаження\n      hideLoader();\n\n      // Перевірка наявності зображень\n      if (!images.hits.length) {\n        showErrorMessage('Sorry, there are no images matching your search query. Please try again!n');\n        return;\n      }\n\n      // Оновлення галереї\n      updateGallery(images.hits);\n\n      // Оновлення SimpleLightbox\n      lightbox.refresh();\n    })\n    .catch(error => {\n      // Приховати індикатор завантаження та показати повідомлення про помилку\n      hideLoader();\n      showErrorMessage('Щось пішло не так. Будь ласка, спробуйте ще раз.');\n      console.error(error);\n    });\n});"],"names":["getPictures","searchTerm","API_KEY","BASE_URL","searchParams","response","createImageCard","image","createInfoBlock","label","value","updateGallery","images","galleryList","cardsHTML","showErrorMessage","message","iziToast","showLoader","loader","hideLoader","lightbox","SimpleLightbox","searchForm","gallery","event","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAY,CACtC,MAAMC,EAAU,qCACVC,EAAW,2BAGbF,EAAW,SAAS,GAAG,IACzBA,EAAaA,EAAW,QAAQ,OAAQ,GAAG,GAI7C,MAAMG,EAAe,IAAI,gBAAgB,CACvC,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAGD,OAAO,MAAM,GAAGE,CAAQ,IAAIC,CAAY,EAAE,EACvC,KAAKC,GAAY,CAEhB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAIrC,OAAOA,EAAS,MACtB,CAAK,CACL,CCzBO,SAASC,EAAgBC,EAAO,CACrC,MAAO;AAAA;AAAA,iBAEQA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,UAGhDC,EAAgB,QAASD,EAAM,KAAK,CAAC;AAAA,UACrCC,EAAgB,QAASD,EAAM,KAAK,CAAC;AAAA,UACrCC,EAAgB,WAAYD,EAAM,QAAQ,CAAC;AAAA,UAC3CC,EAAgB,YAAaD,EAAM,SAAS,CAAC;AAAA;AAAA;AAAA,GAIvD,CAGA,SAASC,EAAgBC,EAAOC,EAAO,CACrC,MAAO;AAAA;AAAA,0BAEiBD,CAAK;AAAA,0BACLC,CAAK;AAAA;AAAA,GAG/B,CAGO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAc,SAAS,cAAc,UAAU,EACrDA,EAAY,UAAY,GAExB,MAAMC,EAAYF,EAAO,IAAIL,GAASD,EAAgBC,CAAK,CAAC,EAAE,KAAK,EAAE,EACrEM,EAAY,mBAAmB,YAAaC,CAAS,CACvD,CAGO,SAASC,EAAiBC,EAAS,CACxCC,EAAS,MAAM,CACb,MAAO,QACP,QAAAD,CACJ,CAAG,CACH,CAGO,SAASE,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,IACFA,EAAO,MAAM,QAAU,QAE3B,CAGO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,IACFA,EAAO,MAAM,QAAU,OAE3B,CCvDA,MAAME,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,QAAS,GACT,MAAO,GACP,UAAW,iBACb,CAAC,EAGKC,EAAa,SAAS,cAAc,YAAY,EAChDC,EAAU,SAAS,cAAc,UAAU,EAGjDD,EAAW,iBAAiB,SAAWE,GAAU,CAC/CA,EAAM,eAAc,EAGpBD,EAAQ,UAAY,GAGpB,MAAMvB,EAAawB,EAAM,OAAO,SAAS,OAAO,MAAM,OAGjDxB,IAGLiB,IAEAlB,EAAYC,CAAU,EACnB,KAAKW,GAAU,CAKd,GAHAQ,IAGI,CAACR,EAAO,KAAK,OAAQ,CACvBG,EAAiB,2EAA2E,EAC5F,MACD,CAGDJ,EAAcC,EAAO,IAAI,EAGzBS,EAAS,QAAO,CACtB,CAAK,EACA,MAAMK,GAAS,CAEdN,IACAL,EAAiB,kDAAkD,EACnE,QAAQ,MAAMW,CAAK,CACzB,CAAK,EACL,CAAC"}