{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export async function getPictures(searchTerm) {\n  const API_KEY = '43767722-bbce12454ab409ccbfe76519c'; // Ключ API Pixabay\n  const BASE_URL = 'https://pixabay.com/api/'; // Базова URL API Pixabay\n\n  // Заміна пробілів на '+'\n  if (searchTerm.includes(' ')) {\n    searchTerm = searchTerm.replace(/\\s+/g, '+');\n  }\n\n  // Створення параметрів пошуку\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: searchTerm,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  // Відправка HTTP-запиту\n  const response = await fetch(`${BASE_URL}?${searchParams}`);\n\n  // Перевірка відповіді\n  if (!response.ok) {\n    throw new Error(response.statusText);\n  }\n\n  // Отримання JSON-даних\n  const data = await response.json();\n\n  // Повернення даних\n  return data;\n}\n","import \"izitoast/dist/css/iziToast.min.css\";\nimport iziToast from \"izitoast\";\n// Функція для створення HTML-картки зображення\nexport function createImageCard(image) {\n  const card = document.createElement('div');\n  card.classList.add('gallery-item');\n\n  const link = document.createElement('a');\n  link.href = image.largeImageURL;\n  link.classList.add('gallery-link');\n\n  const imageElement = document.createElement('img');\n  imageElement.src = image.webformatURL;\n  imageElement.alt = image.tags;\n  imageElement.classList.add('gallery-image');\n\n  link.appendChild(imageElement);\n  card.appendChild(link);\n\n  // Додавання інформації про зображення\n  const infoBlock = document.createElement('div');\n  infoBlock.classList.add('thumb-block');\n\n  const likesBlock = createInfoBlock('Likes', image.likes);\n  const viewsBlock = createInfoBlock('Views', image.views);\n  const commentsBlock = createInfoBlock('Comments', image.comments);\n  const downloadsBlock = createInfoBlock('Downloads', image.downloads);\n\n  infoBlock.appendChild(likesBlock);\n  infoBlock.appendChild(viewsBlock);\n  infoBlock.appendChild(commentsBlock);\n  infoBlock.appendChild(downloadsBlock);\n\n  card.appendChild(infoBlock);\n\n  return card;\n}\n\n// Функція для створення інформаційного блоку\nfunction createInfoBlock(label, value) {\n  const block = document.createElement('div');\n  block.classList.add('block');\n\n  const title = document.createElement('h2');\n  title.classList.add('title');\n  title.textContent = label;\n\n  const amount = document.createElement('p');\n  amount.classList.add('amount');\n  amount.textContent = value;\n\n  block.appendChild(title);\n  block.appendChild(amount);\n\n  return block;\n}\n\n// Функція для оновлення галереї\nexport function updateGallery(images) {\n  const galleryList = document.querySelector('.gallery');\n  galleryList.innerHTML = ''; // Очищення галереї\n\n  images.forEach(image => {\n    const card = createImageCard(image);\n    galleryList.appendChild(card);\n  });\n\n  // Оновлення SimpleLightbox після додавання зображень\n  if (window.lightbox && typeof window.lightbox.refresh === 'function') {\n    window.lightbox.refresh();\n  }\n}\n\n// Функція для відображення повідомлення про помилку\nexport function showErrorMessage(message) {\n  // Перевірка, що iziToast підключений та не null\n  if (!iziToast || iziToast === null) {\n    console.error('iziToast is not defined or null');\n    return;\n  }\n\n  iziToast.error({\n    title: 'Error',\n    message,\n  });\n}\n\n// Функція для відображення індикатора завантаження\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n}\n\n// Функція для приховування індикатора завантаження\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n}\n","import { getPictures } from './js/pixabay-api.js';\nimport { updateGallery, showErrorMessage, showLoader, hideLoader } from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// Змінні\nconst searchForm = document.querySelector('.js-search');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nlet lightbox; // Змінна для зберігання екземпляра SimpleLightbox\n\n// Обробник події пошуку\nsearchForm.addEventListener('submit', async (event) => {\n  event.preventDefault();\n\n  // Очищення галереї\n  gallery.innerHTML = '';\n\n  // Отримання значення пошуку\n  const searchTerm = event.target.elements.search.value.trim();\n\n  // Якщо пошуковий запит порожній, завершити роботу\n  if (!searchTerm) return;\n\n  // Відображення індикатора завантаження\n  showLoader();\n\n  // Отримання зображень\n  getPictures(searchTerm)\n    .then(images => {\n      // Приховування індикатора завантаження\n      hideLoader();\n\n      // Перевірка наявності зображень\n      if (!images.hits.length) {\n        showErrorMessage('Зображень не знайдено. Спробуйте інший пошуковий запит.');\n        return;\n      }\n\n      // Оновлення галереї\n      updateGallery(images.hits);\n\n      // Ініціалізація SimpleLightbox \n      if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a', {\n          // Налаштування лайтбокса\n          caption: {\n            position: 'bottom',\n            className: 'lightbox-caption',\n          },\n          overlay: {\n            className: 'lightbox-overlay',\n          },\n          close: {\n            className: 'lightbox-close',\n          },\n          className: 'custom-lightbox',\n        });\n      }\n\n      // Оновлення SimpleLightbox\n      lightbox.refresh();\n    })\n    .catch(error => {\n      showErrorMessage(error.message);\n    });\n});\n"],"names":["getPictures","searchTerm","API_KEY","BASE_URL","searchParams","response","createImageCard","image","card","link","imageElement","infoBlock","likesBlock","createInfoBlock","viewsBlock","commentsBlock","downloadsBlock","label","value","block","title","amount","updateGallery","images","galleryList","showErrorMessage","message","iziToast","showLoader","loader","hideLoader","searchForm","gallery","lightbox","event","SimpleLightbox","error"],"mappings":"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"}