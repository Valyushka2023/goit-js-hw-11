import{i as a,S as f}from"./assets/vendor-8c59ed88.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();async function p(t){const n="43767722-bbce12454ab409ccbfe76519c",o="https://pixabay.com/api/";t.includes(" ")&&(t=t.replace(/\s+/g,"+"));const r=new URLSearchParams({key:n,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0}),e=await fetch(`${o}?${r}`);if(!e.ok)throw new Error(e.statusText);return await e.json()}function h(t){const n=document.createElement("div");n.classList.add("gallery-item");const o=document.createElement("a");o.href=t.largeImageURL,o.classList.add("gallery-link");const r=document.createElement("img");r.src=t.webformatURL,r.alt=t.tags,r.classList.add("gallery-image"),o.appendChild(r),n.appendChild(o);const e=document.createElement("div");e.classList.add("thumb-block");const s=l("Likes",t.likes),c=l("Views",t.views),u=l("Comments",t.comments),m=l("Downloads",t.downloads);return e.appendChild(s),e.appendChild(c),e.appendChild(u),e.appendChild(m),n.appendChild(e),n}function l(t,n){const o=document.createElement("div");o.classList.add("block");const r=document.createElement("h2");r.classList.add("title"),r.textContent=t;const e=document.createElement("p");return e.classList.add("amount"),e.textContent=n,o.appendChild(r),o.appendChild(e),o}function y(t){const n=document.querySelector(".gallery");n.innerHTML="",t.forEach(o=>{const r=h(o);n.appendChild(r)}),window.lightbox&&typeof window.lightbox.refresh=="function"&&window.lightbox.refresh()}function d(t){if(!a||a===null){console.error("iziToast is not defined or null");return}a.error({title:"Error",message:t})}function g(){const t=document.querySelector(".loader");t.style.display="block"}function b(){const t=document.querySelector(".loader");t.style.display="none"}const L=document.querySelector(".js-search"),w=document.querySelector(".gallery");document.querySelector(".loader");let i;L.addEventListener("submit",async t=>{t.preventDefault(),w.innerHTML="";const n=t.target.elements.search.value.trim();n&&(g(),p(n).then(o=>{if(b(),!o.hits.length){d("Зображень не знайдено. Спробуйте інший пошуковий запит.");return}y(o.hits),i||(i=new f(".gallery a",{caption:{position:"bottom",className:"lightbox-caption"},overlay:{className:"lightbox-overlay"},close:{className:"lightbox-close"},className:"custom-lightbox"})),i.refresh()}).catch(o=>{d(o.message)}))});
//# sourceMappingURL=commonHelpers.js.map
